{"version":3,"file":"ZekiCore.js","sources":["../src/dom-ext.js","../src/debug.js","../src/core.js","../src/dom.js","../src/index.js"],"sourcesContent":["// src/dom-ext.js\r\nexport class ZekiElement {\r\n    constructor(el) {\r\n      this.el = el;\r\n    }\r\n  \r\n    getTag(tag) {\r\n      return this.el.getElementsByTagName(tag);\r\n    }\r\n  \r\n    getClass(className) {\r\n      return this.el.getElementsByClassName(className);\r\n    }\r\n  \r\n    getAttr(attr) {\r\n      return this.el.getAttribute(attr);\r\n    }\r\n  \r\n    setAttr(key, val) {\r\n      this.el.setAttribute(key, val);\r\n      return this;\r\n    }\r\n  \r\n    setAttrs(obj) {\r\n      Object.entries(obj).forEach(([key, val]) => this.el.setAttribute(key, val));\r\n      return this;\r\n    }\r\n  \r\n    delAttr(attr) {\r\n      this.el.removeAttribute(attr);\r\n      return this;\r\n    }\r\n  \r\n    addKid(child) {\r\n      this.el.appendChild(child);\r\n      return this;\r\n    }\r\n  \r\n    addKids(children) {\r\n      children.forEach(child => this.el.appendChild(child));\r\n      return this;\r\n    }\r\n  \r\n    delKid(child) {\r\n      this.el.removeChild(child);\r\n      return this;\r\n    }\r\n  \r\n    delKids(children) {\r\n      children.forEach(child => this.el.removeChild(child));\r\n      return this;\r\n    }\r\n  \r\n    addClass(className) {\r\n      this.el.classList.add(className);\r\n      return this;\r\n    }\r\n  \r\n    delClass(className) {\r\n      this.el.classList.remove(className);\r\n      return this;\r\n    }\r\n  \r\n    siblings() {\r\n      const siblings = [];\r\n      let p = this.el.previousSibling;\r\n      while (p) {\r\n        if (p.nodeType === 1) siblings.push(p);\r\n        p = p.previousSibling;\r\n      }\r\n      siblings.reverse();\r\n      let n = this.el.nextSibling;\r\n      while (n) {\r\n        if (n.nodeType === 1) siblings.push(n);\r\n        n = n.nextSibling;\r\n      }\r\n      return siblings;\r\n    }\r\n  \r\n    dataBind({ data = {} } = {}) {\r\n      const nodes = this.el.querySelectorAll('*');\r\n      nodes.forEach((node) => {\r\n        const zText = node.getAttribute('z-text');\r\n        const zHtml = node.getAttribute('z-html');\r\n        if (zText && data[zText] !== undefined) {\r\n          node.innerText = data[zText];\r\n        }\r\n        if (zHtml && data[zHtml] !== undefined) {\r\n          node.innerHTML = data[zHtml];\r\n        }\r\n      });\r\n      return this;\r\n    }\r\n  }\r\n  ","// src/debug.js\r\nlet isDebug = false;\r\n\r\n/**\r\n * \r\n * @param {*} value \r\n */\r\nexport function setDebug(value) {\r\n  isDebug = value;\r\n}\r\n\r\n/**\r\n * \r\n * @param  {...any} args \r\n */\r\nexport function log(...args) {\r\n  if (isDebug) console.log(\"[ZekiCore Log]:\", ...args);\r\n}","import {  one, all, getId, getIds, getTag, getClass, makeTag, makeText,  } from \"./dom.js\";\r\nimport { setDebug, log } from \"./debug.js\";\r\n\r\nexport const ZekiCore = {};\r\n\r\n// 使用 defineProperty 加到命名空間上（不可列舉與不可寫入）\r\nObject.defineProperties(ZekiCore, {\r\n  \"one\": {\r\n    value: one,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"all\": {\r\n    value: all,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"getId\": {\r\n    value: getId,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"getIds\": {\r\n    value: getIds,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"getTag\": {\r\n    value: getTag,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"getClass\": {\r\n    value: getClass,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"makeTag\": {\r\n    value: makeTag,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"makeText\": {\r\n    value: makeText,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"setDebug\": {\r\n    value: setDebug,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  \"log\": {\r\n    value: log,\r\n    enumerable: false,\r\n    writable: false,\r\n    configurable: false,\r\n  },\r\n  // ...更多函式\r\n  \"version\": {\r\n    value: '1.0.0',\r\n    enumerable: false, // 不會在 for...in 被列出\r\n    writable: false, // 無法被覆寫\r\n    configurable: false, // 無法刪除\r\n  },\r\n});","// src/dom.js\r\n\r\nimport { ZekiElement } from './dom-ext.js';\r\n\r\n/**\r\n * \r\n * @param {*} selector \r\n * @returns \r\n */\r\nexport function one(selector) {\r\n  const el = document.querySelector(selector);\r\n  return el ? new ZekiElement(el): null;\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} selector \r\n * @returns \r\n */\r\nexport function all(selector) {\r\n  return document.querySelectorAll(selector);\r\n}\r\n\r\n/**\r\n * get element by id.\r\n * @param {string} id - 元素 ID\r\n * @returns {HTMLElement} - 對應的 DOM 元素\r\n */\r\nexport function getId(id) {\r\n  const el = document.getElementById(id);\r\n  return el ? new ZekiElement(el): null;\r\n}\r\n\r\n/**\r\n * get elements by id array.\r\n * @param {Array} arr - 元素 ID 陣列\r\n * @returns {Array} - 對應的 DOM 元素陣列\r\n */\r\nexport function getIds(arr) {\r\n  let stack = [];\r\n  for(var i=0; i<arr.length; i++) {\r\n    stack.push(document.getElementById(arr[i]));\r\n  }\r\n  return stack;\r\n}\r\n\r\n/**\r\n * get elements by tag name.\r\n * @param {string} tagName - 元素名稱\r\n * @returns {HTMLCollection} - 對應的 DOM 元素集合\r\n */\r\nexport function getTag(tagName) {\r\n  return document.getElementsByTagName(tagName);\r\n}\r\n\r\n/**\r\n * get multiple class element\r\n * @param {*} className - 類別名稱\r\n * @returns {HTMLCollection} - 對應的 DOM 元素集合\r\n */\r\nexport function getClass(className) {\r\n  return document.getElementsByClassName(className);\r\n}\r\n\r\n/**\r\n * create elements by name.\r\n * @param {string} tagName - 元素名稱\r\n * @returns {NodeList} - 對應的 DOM 元素集合\r\n */\r\nexport function makeTag(tagName) {\r\n  return document.createElement(tagName);\r\n}\r\n\r\n/**\r\n * create text node.\r\n * @param {string} textContnet - 文字內容\r\n * @returns {Text} - 對應的 DOM 文字節點\r\n */\r\nexport function makeText(textContnet) {\r\n  return document.createTextNode(textContnet);\r\n}","// src/index.js\r\nimport { ZekiCore } from './core.js';\r\n\r\nObject.freeze(ZekiCore); // 避免改動\r\n\r\nif (typeof window !== \"undefined\") {\r\n  window.ZekiCore = ZekiCore; // 全域變數名稱 window.Zeki\r\n  window.zk = ZekiCore; // 簡寫風格\r\n}"],"names":["ZekiElement","constructor","el","this","getTag","tag","getElementsByTagName","getClass","className","getElementsByClassName","getAttr","attr","getAttribute","setAttr","key","val","setAttribute","setAttrs","obj","Object","entries","forEach","delAttr","removeAttribute","addKid","child","appendChild","addKids","children","delKid","removeChild","delKids","addClass","classList","add","delClass","remove","siblings","p","previousSibling","nodeType","push","reverse","n","nextSibling","dataBind","data","querySelectorAll","node","zText","zHtml","undefined","innerText","innerHTML","isDebug","ZekiCore","defineProperties","one","value","selector","document","querySelector","enumerable","writable","configurable","all","getId","id","getElementById","getIds","arr","stack","i","length","tagName","makeTag","createElement","makeText","textContnet","createTextNode","setDebug","log","args","console","version","freeze","window","zk"],"mappings":"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"}